{"ast":null,"code":"import _classCallCheck from \"D:\\\\REACT\\\\reactnd-project-myreads-starter\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"D:\\\\REACT\\\\reactnd-project-myreads-starter\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"D:\\\\REACT\\\\reactnd-project-myreads-starter\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"D:\\\\REACT\\\\reactnd-project-myreads-starter\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"D:\\\\REACT\\\\reactnd-project-myreads-starter\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"D:\\\\REACT\\\\reactnd-project-myreads-starter\\\\src\\\\App.js\";\nimport React from 'react';\nimport * as BooksAPI from './BooksAPI';\nimport './App.css';\nimport { Route, Redirect, withRouter, Link } from 'react-router-dom';\nimport SearchLibrary from './SearchLibrary';\nimport Shelf from './Shelf';\nimport ShelfChanger from './ShelfChanger';\n\nvar BooksApp =\n/*#__PURE__*/\nfunction (_React$Component) {\n  _inherits(BooksApp, _React$Component);\n\n  function BooksApp() {\n    var _getPrototypeOf2;\n\n    var _this;\n\n    _classCallCheck(this, BooksApp);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _possibleConstructorReturn(this, (_getPrototypeOf2 = _getPrototypeOf(BooksApp)).call.apply(_getPrototypeOf2, [this].concat(args)));\n    _this.state = {\n      books: [],\n      currentlyReading: [],\n      wantToRead: [],\n      read: []\n    };\n    return _this;\n  }\n\n  _createClass(BooksApp, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      var _this2 = this;\n\n      BooksAPI.getAll().then(function (response) {\n        return _this2.setState({\n          books: response\n        });\n      }).then(function () {\n        _this2.state.books.forEach(function (book) {\n          switch (book.shelf) {\n            case 'currentlyReading':\n              {\n                _this2.setState(function (currentState) {\n                  return {\n                    currentlyReading: currentState.currentlyReading.concat([book])\n                  };\n                });\n              }\n              break;\n\n            case 'wantToRead':\n              {\n                _this2.setState(function (currentState) {\n                  return {\n                    wantToRead: currentState.wantToRead.concat([book])\n                  };\n                });\n              }\n              break;\n\n            case 'read':\n              {\n                _this2.setState(function (currentState) {\n                  return {\n                    read: currentState.read.concat([book])\n                  };\n                });\n              }\n              break;\n\n            default:\n          }\n        });\n      }); // .then(()=>console.log(this.state.currentlyReading))\n    }\n  }, {\n    key: \"toUpdateShelf\",\n    value: function toUpdateShelf(book, shelf) {\n      var bookToBeUpdated = this.state.books.filter(function (book) {\n        return book.id === book.id ? book.shelf = shelf : '';\n      });\n      var index = this.state.books.indexOf(bookToBeUpdated);\n      var updatedBooks = this.state.books.splice(index, 0, bookToBeUpdated);\n      this.setState({\n        books: updatedBooks\n      });\n      console.log(this.state.books);\n      BooksAPI.update(book, shelf);\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      return React.createElement(\"div\", {\n        className: \"app\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 53\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"list-books\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 54\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"list-books-title\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 55\n        },\n        __self: this\n      }, React.createElement(\"h1\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 56\n        },\n        __self: this\n      }, \"MyReads\")), React.createElement(\"div\", {\n        className: \"list-books-content\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 58\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 59\n        },\n        __self: this\n      }, React.createElement(Route, {\n        exact: true,\n        path: \"/\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 60\n        },\n        __self: this\n      }, React.createElement(Shelf, {\n        shelf: this.state.currentlyReading,\n        currentShelf: 'currentlyReading',\n        name: 'Currently Reading',\n        onShelfUpdate: this.toUpdateShelf,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 61\n        },\n        __self: this\n      }), React.createElement(Shelf, {\n        shelf: this.state.wantToRead,\n        currentShelf: 'wantToRead',\n        name: 'Want To Read',\n        onShelfUpdate: this.toUpdateShelf,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 62\n        },\n        __self: this\n      }), React.createElement(Shelf, {\n        shelf: this.state.read,\n        currentShelf: 'read',\n        name: 'Read',\n        onShelfUpdate: this.toUpdateShelf,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 63\n        },\n        __self: this\n      }))))), React.createElement(Route, {\n        exact: true,\n        path: \"/search\",\n        component: SearchLibrary,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 73\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"open-search\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 76\n        },\n        __self: this\n      }, React.createElement(Link, {\n        to: \"/search\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 77\n        },\n        __self: this\n      }, React.createElement(\"button\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 78\n        },\n        __self: this\n      }, \"Add a book\"))), \"  \"));\n    }\n  }]);\n\n  return BooksApp;\n}(React.Component);\n\nexport default BooksApp; // export default withRouter(BooksApp)","map":{"version":3,"sources":["D:\\REACT\\reactnd-project-myreads-starter\\src\\App.js"],"names":["React","BooksAPI","Route","Redirect","withRouter","Link","SearchLibrary","Shelf","ShelfChanger","BooksApp","state","books","currentlyReading","wantToRead","read","getAll","then","response","setState","forEach","book","shelf","currentState","concat","bookToBeUpdated","filter","id","index","indexOf","updatedBooks","splice","console","log","update","toUpdateShelf","Component"],"mappings":"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","sourcesContent":["import React from 'react'\r\nimport * as BooksAPI from './BooksAPI'\r\nimport './App.css'\r\nimport {Route, Redirect, withRouter, Link} from 'react-router-dom';\r\nimport SearchLibrary from './SearchLibrary';\r\nimport Shelf from './Shelf';\r\nimport ShelfChanger from './ShelfChanger';\r\n\r\nclass BooksApp extends React.Component {\r\n  state = {\r\n    books: [],\r\n    currentlyReading: [],\r\n    wantToRead: [],\r\n    read: []\r\n  }\r\n  componentDidMount()\r\n  {\r\n    BooksAPI.getAll()\r\n      .then((response)=>this.setState({books:response}))\r\n      .then(()=>{\r\n        this.state.books.forEach((book) => {\r\n          switch(book.shelf)\r\n          {\r\n            case 'currentlyReading': {this.setState(currentState => ({currentlyReading: currentState.currentlyReading.concat([book]) }))}\r\n                                      break;\r\n            case 'wantToRead': {this.setState(currentState => ({wantToRead: currentState.wantToRead.concat([book]) }))}\r\n                                      break;    \r\n            case 'read': {this.setState(currentState => ({read: currentState.read.concat([book]) }))}\r\n                                      break;    \r\n            default:               \r\n          }\r\n        })\r\n      })\r\n      // .then(()=>console.log(this.state.currentlyReading))\r\n  }\r\n\r\n  \r\n  toUpdateShelf(book, shelf)\r\n  {\r\n    let bookToBeUpdated=this.state.books.filter(book=>\r\n      book.id===book.id? book.shelf=shelf: '')\r\n    let index=this.state.books.indexOf(bookToBeUpdated)\r\n    let updatedBooks=this.state.books.splice(index, 0, bookToBeUpdated)\r\n    this.setState({books: updatedBooks})\r\n    console.log(this.state.books)\r\n\r\n    BooksAPI.update(book, shelf)\r\n  }\r\n\r\n  render() \r\n  {\r\n      return (\r\n      <div className=\"app\">\r\n          <div className=\"list-books\">\r\n            <div className=\"list-books-title\">\r\n              <h1>MyReads</h1>\r\n            </div>\r\n            <div className=\"list-books-content\">\r\n              <div>\r\n                <Route exact path='/'>\r\n                  <Shelf shelf={this.state.currentlyReading} currentShelf={'currentlyReading'} name={'Currently Reading'} onShelfUpdate={this.toUpdateShelf}/>\r\n                  <Shelf shelf={this.state.wantToRead} currentShelf={'wantToRead'} name={'Want To Read'} onShelfUpdate={this.toUpdateShelf}/>\r\n                  <Shelf shelf={this.state.read} currentShelf={'read'} name={'Read'} onShelfUpdate={this.toUpdateShelf}/>\r\n                </Route>\r\n                {/* {this.state.books!==undefined && \r\n                    console.log(this.state.books)\r\n                  } */}\r\n              </div>\r\n            </div>            \r\n          </div>  \r\n\r\n             \r\n          <Route exact path='/search' component={SearchLibrary}>\r\n            {/* <SearchLibrary/>\r\n          </Route>  */}\r\n          <div className=\"open-search\">\r\n              <Link to='/search'>\r\n                <button>Add a book</button>\r\n              </Link>            \r\n          </div>  </Route>\r\n      </div>\r\n    )\r\n  }\r\n}\r\nexport default BooksApp\r\n// export default withRouter(BooksApp)"]},"metadata":{},"sourceType":"module"}